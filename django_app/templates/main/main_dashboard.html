{% extends "base.html" %}
{% load static sass_tags %}

{% block title %}MedAI Research - 메인{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% sass_src 'css/main-dashboard.scss' %}">
{% endblock %}

{% block content %}
    <div
      class="main-page"
      data-dashboard
      data-user-name="{{ user_name }}"
      data-user-email="{{ user_email }}"
      data-chat-url="{{ chat_url }}"
      data-logout-url="{{ logout_url }}"
      data-show-logout="{{ show_logout|yesno:'true,false' }}"
    >
      <header class="main-header">
        <div class="container header-padding">
          <div class="flex-between">
            <div class="flex-gap-sm">
              <div class="badge-square" style="background: #3b82f6;">
                <i class="fa-solid fa-robot" style="color: white; font-size: 1.25rem;"></i>
              </div>
              <div>
                <h1 style="font-size: 1.125rem; color: #1f2937;">MedAI Research</h1>
                <p style="font-size: 0.875rem; color: #6b7280;">의료 연구 AI 어시스턴트</p>
              </div>
            </div>
            <div class="flex-gap-md">
              <div class="flex-gap-sm">
                <div class="badge-circle" style="background: #3b82f6;">
                  <i class="fa-solid fa-user" style="color: white;"></i>
                </div>
                <div class="text-right">
                  <div id="userName" style="font-size: 0.875rem; color: #1f2937;"></div>
                  <div id="userEmail" style="font-size: 0.75rem; color: #6b7280;"></div>
                </div>
              </div>
              {% if show_logout %}
              <button id="logoutBtn" class="icon-button" title="로그아웃">
                <i class="fa-solid fa-arrow-right-from-bracket" style="color: #6b7280; font-size: 1rem;"></i>
              </button>
              {% endif %}
            </div>
          </div>
        </div>
      </header>

      <main class="container page-padding">
        <div class="section-hero">
          <h2 style="color: #1f2937; margin-bottom: 1rem;">의료 연구를 위한 AI 어시스턴트</h2>
          <p class="hero-description">
            최신 의학 논문 데이터베이스를 기반으로 신뢰할 수 있는 정보를 제공합니다.
            림프절 전이 예측, MMP/TIMP 발현, 임상시험 검색 등 전문적인 의학 질문에 대해
            검증된 참고문헌과 함께 답변을 받아보세요.
          </p>
          <button id="startChatBtn" class="btn btn-primary btn-large">
            AI 채팅 시작하기
            <i class="fa-solid fa-arrow-right" style="color: white;"></i>
          </button>
        </div>

        <div class="section-spacing">
          <h3 style="color: #1f2937; margin-bottom: 1.5rem;">플랫폼 현황</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
              <div class="flex-gap-sm">
                <div class="stat-icon" style="background: #dbeafe;">
                  <i class="fa-solid fa-book-medical" style="color: #2563eb;"></i>
                  </div>
                  <p class="stat-title">총 논문 수</p>
                </div>
                <span class="stat-chip" style="background: #d1fae5; color: #059669;">+124</span>
              </div>
              <div>
                <p class="stat-value">2,847</p>
              </div>
            </div>

            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
                <div class="flex-gap-sm">
                  <div class="stat-icon" style="background: #d1fae5;">
                    <i class="fa-solid fa-comments" style="color: #059669;"></i>
                  </div>
                  <p class="stat-title">활성 대화</p>
                </div>
                <span class="stat-chip" style="background: #d1fae5; color: #059669;">+23</span>
              </div>
              <div>
                <p class="stat-value">156</p>
              </div>
            </div>

            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
                <div class="flex-gap-sm">
                  <div class="stat-icon" style="background: #ecfccb;">
                    <i class="fa-solid fa-chart-line" style="color: #65a30d;"></i>
                  </div>
                  <p class="stat-title">하루 질문 수</p>
                </div>
                <span class="stat-chip" style="background: #fee2e2; color: #dc2626;">-8%</span>
              </div>
              <div>
                <p class="stat-value">184</p>
              </div>
            </div>

            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
                <div class="flex-gap-sm">
                  <div class="stat-icon" style="background: #fef3c7;">
                    <i class="fa-solid fa-user-group" style="color: #d97706;"></i>
                  </div>
                  <p class="stat-title">활성 사용자</p>
                </div>
                <span class="stat-chip" style="background: #d1fae5; color: #059669;">+12</span>
              </div>
              <div>
                <p class="stat-value">89</p>
              </div>
            </div>

            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
                <div class="flex-gap-sm">
                  <div class="stat-icon" style="background: #e0e7ff;">
                    <i class="fa-solid fa-bullseye" style="color: #4f46e5;"></i>
                  </div>
                  <p class="stat-title">AI 응답 정확도</p>
                </div>
                <span class="stat-chip" style="background: #d1fae5; color: #059669;">+2.1%</span>
              </div>
              <div>
                <p class="stat-value">94.8%</p>
              </div>
            </div>

            <div class="card stat-card" style="padding: 1.5rem;">
              <div class="stat-card-header">
                <div class="flex-gap-sm">
                  <div class="stat-icon" style="background: #fce7f3;">
                    <i class="fa-solid fa-stopwatch" style="color: #db2777;"></i>
                  </div>
                  <p class="stat-title">평균 응답 시간</p>
                </div>
                <span class="stat-chip" style="background: #dbeafe; color: #2563eb;">-0.3초</span>
              </div>
              <div>
                <p class="stat-value">1.2초</p>
              </div>
            </div>
          </div>
        </div>

        <div class="section-spacing">
          <h3 style="color: #1f2937; margin-bottom: 1.5rem;">주요 기능</h3>
          <div class="grid grid-cols-1 md:grid-cols-3">
            <div class="card" style="padding: 1.5rem;">
              <div class="feature-icon" style="background: #dbeafe;">
                <i class="fa-solid fa-certificate" style="color: #2563eb;"></i>
              </div>
              <h4 style="color: #1f2937; margin-bottom: 0.5rem;">검증된 논문 기반</h4>
              <p class="stat-title">
                PubMed, DOI 링크가 포함된 신뢰할 수 있는 의학 정보를 제공합니다.
              </p>
            </div>

            <div class="card" style="padding: 1.5rem;">
              <div class="feature-icon" style="background: #d1fae5;">
                <i class="fa-solid fa-book-open-reader" style="color: #059669;"></i>
              </div>
              <h4 style="color: #1f2937; margin-bottom: 0.5rem;">참고문헌 자동 생성</h4>
              <p class="stat-title">
                모든 응답에 관련 논문의 참고문헌이 자동으로 포함됩니다.
              </p>
            </div>

            <div class="card" style="padding: 1.5rem;">
              <div class="feature-icon" style="background: #e9d5ff;">
                <i class="fa-solid fa-bolt" style="color: #7c3aed;"></i>
              </div>
              <h4 style="color: #1f2937; margin-bottom: 0.5rem;">빠른 질의응답</h4>
              <p class="stat-title">
                의학 용어 툴팁과 질문 템플릿으로 더 빠르게 정보를 찾을 수 있습니다.
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/main-dashboard.js' %}" defer></script>
{% endblock %}
